import{C as h,r as c,j as e,u}from"./index-C2efy-H1.js";import{H as f,R as j,C as p}from"./sign-out-dialog-C7VDqJG5.js";import"./Combination-e_ExlZZi.js";import{u as l,C as n,a as g,b as N,c as v,d as i}from"./card-C7FjlU42.js";import{B as C}from"./badge-D2ECJKXf.js";import{S as b,a as w,b as S,c as y,d as I}from"./select-Cb8MxY2o.js";import{H as L,S as T,T as k,C as q,P as A}from"./config-drawer-k-4Ro-99.js";import{T as F,M as H}from"./top-nav-b8bDTZzJ.js";import{a as d}from"./content-api-CpM2oHnE.js";import"./index-DM0Fh7Vv.js";function V(){const s=h({from:"/_authenticated/content/lessons"}),[r,a]=c.useState("");c.useEffect(()=>{s.courseId&&a(s.courseId.toString())},[s.courseId]);const{data:m=[]}=l({queryKey:["admin-courses"],queryFn:()=>d.getCourses()}),{data:o=[],isLoading:x}=l({queryKey:["admin-lessons",r],queryFn:()=>d.getCourseLessons(parseInt(r)),enabled:!!r});return e.jsxs(e.Fragment,{children:[e.jsxs(L,{children:[e.jsx(F,{links:D}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(T,{}),e.jsx(k,{}),e.jsx(q,{}),e.jsx(A,{})]})]}),e.jsxs(H,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Lessons"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"View lessons for each course"})]}),e.jsxs(n,{className:"mb-6",children:[e.jsxs(g,{children:[e.jsx(N,{children:"Select Course"}),e.jsx(v,{children:"Choose a course to view its lessons"})]}),e.jsx(i,{children:e.jsxs(b,{value:r,onValueChange:a,children:[e.jsx(w,{className:"w-full max-w-md",children:e.jsx(S,{placeholder:"Select a course..."})}),e.jsx(y,{children:m.map(t=>e.jsx(I,{value:t.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),t.title]})},t.id))})]})})]}),r&&e.jsx(e.Fragment,{children:x?e.jsx(n,{children:e.jsx(i,{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):o.length===0?e.jsx(n,{children:e.jsx(i,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx(j,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No lessons found for this course."})]})})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(t=>e.jsx(B,{lesson:t,courseId:r},t.id))})})]})]})}function B({lesson:s,courseId:r}){const a=u();return e.jsx(n,{className:"hover:shadow-md transition-all cursor-pointer hover:scale-[1.02] p-4",onClick:()=>a({to:"/content/words",search:{courseId:parseInt(r),lessonId:s.id}}),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-r from-green-100 to-green-50 border border-green-200",children:e.jsx("span",{className:"text-sm font-bold text-green-600",children:s.order})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.content||"No description available"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.words_count&&e.jsxs(C,{variant:"outline",className:"text-xs",children:[s.words_count," words"]}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]})]})})}const D=[{title:"Courses",href:"/content/courses",isActive:!1,disabled:!1},{title:"Lessons",href:"/content/lessons",isActive:!0,disabled:!1},{title:"Words",href:"/content/words",isActive:!1,disabled:!1}],z=V;export{z as component};
