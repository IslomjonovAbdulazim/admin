import{j as e,B as g,C as D,r as o,g as p}from"./index-C2efy-H1.js";import{I as T,J as W,K as A,M as H,X as L,V as v}from"./sign-out-dialog-C7VDqJG5.js";import{c as w}from"./Combination-e_ExlZZi.js";import{u as m,C as u,d as j}from"./card-C7FjlU42.js";import{B as Z}from"./badge-D2ECJKXf.js";import{S as f,a as b,b as N,c as I,d as y}from"./select-Cb8MxY2o.js";import{H as q,S as B,T as Q,C as V,P}from"./config-drawer-k-4Ro-99.js";import{T as z,M as F}from"./top-nav-b8bDTZzJ.js";import{a as x}from"./content-api-CpM2oHnE.js";import{I as G}from"./image-BrbwpHny.js";import"./index-DM0Fh7Vv.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],U=w("external-link",R);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],_=w("volume-2",J);function E({open:s,onOpenChange:r,imageUrl:l,wordText:t}){const n=()=>{window.open(l,"_blank")};return e.jsx(T,{open:s,onOpenChange:r,children:e.jsxs(W,{className:"max-w-4xl max-h-[90vh] p-0",children:[e.jsx(A,{className:"p-4 pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(H,{className:"flex items-center gap-2",children:['Image for "',t,'"']}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(g,{variant:"outline",size:"sm",onClick:n,className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-4 w-4"}),"Open"]}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>r(!1),className:"p-2",children:e.jsx(L,{className:"h-6 w-6"})})]})]})}),e.jsx("div",{className:"px-4 pb-4 flex justify-center",children:e.jsx("img",{src:l,alt:`Image for ${t}`,className:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-lg",onError:i=>{const c=i.target;c.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2Y5ZmFmYiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM2YjczODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBub3QgZm91bmQ8L3RleHQ+PC9zdmc+"}})})]})})}function Y(){const s=D({from:"/_authenticated/content/words"}),[r,l]=o.useState(""),[t,n]=o.useState(""),[i,c]=o.useState({open:!1,imageUrl:"",wordText:""});o.useEffect(()=>{s.courseId&&l(s.courseId.toString()),s.lessonId&&n(s.lessonId.toString())},[s.courseId,s.lessonId]);const{data:C=[]}=m({queryKey:["admin-courses"],queryFn:()=>x.getCourses()}),{data:S=[]}=m({queryKey:["admin-lessons",r],queryFn:()=>x.getCourseLessons(parseInt(r)),enabled:!!r}),{data:h=[],isLoading:k}=m({queryKey:["admin-words",t],queryFn:()=>x.getLessonWords(parseInt(t)),enabled:!!t});return e.jsxs(e.Fragment,{children:[e.jsxs(q,{children:[e.jsx(z,{links:O}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(B,{}),e.jsx(Q,{}),e.jsx(V,{}),e.jsx(P,{})]})]}),e.jsxs(F,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Words"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"View vocabulary words for each lesson"})]}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs(f,{value:r,onValueChange:a=>{l(a),n("")},children:[e.jsx(b,{className:"w-[200px]",children:e.jsx(N,{placeholder:"Select course..."})}),e.jsx(I,{children:C.map(a=>e.jsx(y,{value:a.id.toString(),children:a.title},a.id))})]}),e.jsxs(f,{value:t,onValueChange:n,disabled:!r,children:[e.jsx(b,{className:"w-[200px]",children:e.jsx(N,{placeholder:r?"Select lesson...":"Select course first"})}),e.jsx(I,{children:S.map(a=>e.jsx(y,{value:a.id.toString(),children:a.title},a.id))})]})]}),t&&e.jsx(e.Fragment,{children:k?e.jsx(u,{children:e.jsx(j,{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):h.length===0?e.jsx(u,{children:e.jsx(j,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx(v,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No words found for this lesson."})]})})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:h.map(a=>e.jsx(K,{word:a,onImageClick:(d,M)=>{c({open:!0,imageUrl:d,wordText:M})}},a.id))})}),e.jsx(E,{open:i.open,onOpenChange:a=>c(d=>({...d,open:a})),imageUrl:i.imageUrl,wordText:i.wordText})]})]})}function K({word:s,onImageClick:r}){const l=t=>{switch(t){case"easy":return"bg-green-100 text-green-700 border-green-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"hard":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return e.jsxs(u,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-r from-purple-100 to-purple-50 border border-purple-200",children:e.jsx(v,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base",children:s.word}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.translation})]})]}),e.jsx(Z,{className:`${l(s.difficulty)} text-xs`,children:s.difficulty})]}),s.definition&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:s.definition}),s.sentence&&e.jsxs("p",{className:"text-sm italic text-muted-foreground mb-3 line-clamp-2",children:['"',s.sentence,'"']}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.audio&&e.jsxs("button",{className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-800",onClick:()=>{const t=p(s.audio||null);t&&new Audio(t).play().catch(console.error)},children:[e.jsx(_,{className:"h-3 w-3"}),"Audio"]}),s.image&&e.jsxs("button",{className:"flex items-center gap-1 text-xs text-green-600 hover:text-green-800",onClick:()=>{const t=p(s.image||null);t&&r?.(t,s.word)},children:[e.jsx(G,{className:"h-3 w-3"}),"Image"]})]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",s.order]})]})]})}const O=[{title:"Courses",href:"/content/courses",isActive:!1,disabled:!1},{title:"Lessons",href:"/content/lessons",isActive:!1,disabled:!1},{title:"Words",href:"/content/words",isActive:!0,disabled:!1}],oe=Y;export{oe as component};
